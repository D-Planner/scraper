@import '../../style/variables.scss';

$plan-header-height: 60px;
$plan-header-margin: 36px;
$bottom-margin: 20px;
$sidebar-margin-left: 30px;
$announcement-height: 48px;

.announcements {
  background-color: $blue-primary;
  color: $white;
  height: $announcement-height;
  
  display: -webkit-box;   /* OLD - iOS 6-, Safari 3.1-6, BB7 */
display: -ms-flexbox;  /* TWEENER - IE 10 */
display: -webkit-flex; /* NEW - Safari 6.1+. iOS 7.1+, BB10 */
display: flex;         /* NEW, Spec - Firefox, Chrome, Opera */
  flex-grow: 1;
  justify-content: center;
  align-content: center;
  vertical-align: middle;

  box-shadow: $box-shadow-button;
  transition: height .3s;

  .announcement-text {
    display: -webkit-box;   /* OLD - iOS 6-, Safari 3.1-6, BB7 */
display: -ms-flexbox;  /* TWEENER - IE 10 */
display: -webkit-flex; /* NEW - Safari 6.1+. iOS 7.1+, BB10 */
display: flex;         /* NEW, Spec - Firefox, Chrome, Opera */
    flex-grow: 1;
    justify-content: center;
    align-content: center;

    text-align: center;
    vertical-align: middle;
  
    font-size: 15px;
    font-weight: normal;

    margin-top: auto;
    margin-bottom: auto;
  }

  .close {
    margin-left: 1%;
    margin-right: 1%;
    cursor: pointer;
    z-index: 10;
  }

  &.closed {
    height: 0vh;
  }

  &.clickable {
    cursor: pointer;
  }
}

.dashboard {
    display: -webkit-box;   /* OLD - iOS 6-, Safari 3.1-6, BB7 */
display: -ms-flexbox;  /* TWEENER - IE 10 */
display: -webkit-flex; /* NEW - Safari 6.1+. iOS 7.1+, BB10 */
display: flex;         /* NEW, Spec - Firefox, Chrome, Opera */
    width: 100%;
    overflow-x: hidden;
    overflow-y: hidden;
    align-items: stretch;
    height: 100vh;

    transition: height .3s;

    &.announce {
      height: calc(100vh - #{$announcement-height});
    }

    .welcome-text {
        flex-grow: 1;
        display: -webkit-box;   /* OLD - iOS 6-, Safari 3.1-6, BB7 */
display: -ms-flexbox;  /* TWEENER - IE 10 */
display: -webkit-flex; /* NEW - Safari 6.1+. iOS 7.1+, BB10 */
display: flex;         /* NEW, Spec - Firefox, Chrome, Opera */
        flex-direction: column;
        justify-content: center;
        align-content: center;
        * {
            display: -webkit-box;   /* OLD - iOS 6-, Safari 3.1-6, BB7 */
display: -ms-flexbox;  /* TWEENER - IE 10 */
display: -webkit-flex; /* NEW - Safari 6.1+. iOS 7.1+, BB10 */
display: flex;         /* NEW, Spec - Firefox, Chrome, Opera */
            justify-content: center;
            font-family: $poppins;
            color: $text-accent;
        }
        .welcome-title {
            font-size: 48px;
            font-weight: 700;
        }
        .welcome-subtitle {
            font-size: 24px;
            font-weight: 400;
        }
    }

    .loader {
      flex-grow: 1;
      display: -webkit-box;   /* OLD - iOS 6-, Safari 3.1-6, BB7 */
display: -ms-flexbox;  /* TWEENER - IE 10 */
display: -webkit-flex; /* NEW - Safari 6.1+. iOS 7.1+, BB10 */
display: flex;         /* NEW, Spec - Firefox, Chrome, Opera */
      align-items: stretch;

      align-items: center;
      justify-content: center;

      .loader-image {
        width: 120px;

        -webkit-animation:spin-ease 2s ease infinite;
        -moz-animation:spin-ease 2s ease infinite;
        animation:spin-ease 2s ease infinite;
      }
      @keyframes spin-ease { 
        0% { -moz-transform: rotate(0); -webkit-transform: rotate(0); transform:rotate(0); }
        15% { -moz-transform: rotate(60); -webkit-transform: rotate(60); transform:rotate(60); }
        50% { -moz-transform: rotate(180); -webkit-transform: rotate(180); transform:rotate(180); }
        85% { -moz-transform: rotate(300); -webkit-transform: rotate(300); transform:rotate(300); }
        100% { -moz-transform: rotate(360); -webkit-transform: rotate(360deg); transform:rotate(360deg); }
      }
    }
  
    .plan-content {
        box-shadow: -5px 0px 20px rgba(0, 0, 0, 0.15);
        display: -webkit-box;   /* OLD - iOS 6-, Safari 3.1-6, BB7 */
display: -ms-flexbox;  /* TWEENER - IE 10 */
display: -webkit-flex; /* NEW - Safari 6.1+. iOS 7.1+, BB10 */
display: flex;         /* NEW, Spec - Firefox, Chrome, Opera */
        justify-content: space-between;
        width: 100%;
        min-width: calc(100vw - #{$menu-width-closed}); // CSS-DEF the 68px refers to $menu-width-closed
        max-height: 100vh;
        background: $background;

        .plan-side {
            margin-left: $sidebar-margin-left;
            display: -webkit-box;   /* OLD - iOS 6-, Safari 3.1-6, BB7 */
display: -ms-flexbox;  /* TWEENER - IE 10 */
display: -webkit-flex; /* NEW - Safari 6.1+. iOS 7.1+, BB10 */
display: flex;         /* NEW, Spec - Firefox, Chrome, Opera */
            flex-direction: column;
            .plan-header {
                display: -webkit-box;   /* OLD - iOS 6-, Safari 3.1-6, BB7 */
display: -ms-flexbox;  /* TWEENER - IE 10 */
display: -webkit-flex; /* NEW - Safari 6.1+. iOS 7.1+, BB10 */
display: flex;         /* NEW, Spec - Firefox, Chrome, Opera */
                flex-direction: row;
                // justify-content: space-between;
                align-items: center;
                width: 100%;
                position: relative; // CSS-DEF this is to position the .accent bar, since that is position: absolute
                flex-shrink: 0;
                .plan-name {
                    background: none;
                    font-family: $poppins;
                    font-style: normal;
                    font-weight: bold;
                    line-height: normal;
                    font-size: 24px;
                    color: $text-accent;
                    margin: 18px 0 18px 0;
                    cursor: pointer;

                    &:hover {
                        filter: brightness(150%);
                    }

                    &.plan-name-editing {
                        flex: 0;
                        cursor: text;
                        border-bottom: $text-accent 1px solid;
                        display: -webkit-box;   /* OLD - iOS 6-, Safari 3.1-6, BB7 */
display: -ms-flexbox;  /* TWEENER - IE 10 */
display: -webkit-flex; /* NEW - Safari 6.1+. iOS 7.1+, BB10 */
display: flex;         /* NEW, Spec - Firefox, Chrome, Opera */
                        max-width: 170px;
                        margin-right: 10px;
                    }
                }

                .plan-name-check {
                    cursor: pointer;
                }

                .settings-button {
                    background: $background;
                    position: absolute;
                    right: 0;
                    cursor: pointer;
                    img {
                        width: 24px;
                    }
                }               
            }
        }

        .plan-grid {      
            flex-grow: 1;      
            overflow-x: hidden;
            padding-left: 30px; // the reaosn why this has to be padding-left instead of margin-left is because otherwise, the box-shadow gets cut-off
            display: -webkit-box;   /* OLD - iOS 6-, Safari 3.1-6, BB7 */
display: -ms-flexbox;  /* TWEENER - IE 10 */
display: -webkit-flex; /* NEW - Safari 6.1+. iOS 7.1+, BB10 */
display: flex;         /* NEW, Spec - Firefox, Chrome, Opera */
            flex-direction: column;
            align-items: flex-start;
            // max-width: 1012px; // CSS-DEF this number is dependent on the sum of all tiles and their margins
            max-width: calc(100vw - #{$menu-width-closed} - #{$sidebar-width} - #{$sidebar-margin-left}); // CSS-DEF this is 100vw - $menu-width-closed - $sidebar-width - $sidebar-margin
            overflow-y: scroll !important;
            padding-top: 50px; // CSS-DEF this depends on the sum of the .plan-name height and the 36px margins
            
            .plan-row {
                display: -webkit-box;   /* OLD - iOS 6-, Safari 3.1-6, BB7 */
display: -ms-flexbox;  /* TWEENER - IE 10 */
display: -webkit-flex; /* NEW - Safari 6.1+. iOS 7.1+, BB10 */
display: flex;         /* NEW, Spec - Firefox, Chrome, Opera */
                flex-direction: row;
                justify-content: flex-start;
                margin-bottom: 10px;
                width: 100%;
            }
        }
    }
        
}
